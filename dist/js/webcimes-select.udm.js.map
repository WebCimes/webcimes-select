{"version":3,"file":"js/webcimes-select.udm.js","mappings":"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","sources":["webpack://webcimes-select/webpack/universalModuleDefinition","webpack://webcimes-select/webpack/bootstrap","webpack://webcimes-select/webpack/runtime/define property getters","webpack://webcimes-select/webpack/runtime/hasOwnProperty shorthand","webpack://webcimes-select/webpack/runtime/make namespace object","webpack://webcimes-select/./src/ts/webcimes-select.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Copyright (c) 2023 WebCimes - RICHARD Florian (https://webcimes.com)\r\n * MIT License - https://choosealicense.com/licenses/mit/\r\n * Date: 2023-03-25\r\n */\r\n\r\n\"use strict\";\r\n\r\n/**\r\n * Global\r\n */\r\ndeclare global {\r\n\t/** Events */\r\n\tinterface GlobalEventHandlersEventMap {\r\n\t\tonInit: CustomEvent;\r\n\t\tonDestroy: CustomEvent;\r\n\t\tonInitDropDown: CustomEvent;\r\n\t\tonDestroyDropDown: CustomEvent;\r\n\t\tonSearchDropDown: CustomEvent;\r\n\t\tonSetValue: CustomEvent;\r\n\t}\r\n}\r\n\r\n/**\r\n * Options\r\n */\r\ninterface Options {\r\n\t/** Element (selector string or HTMLElement) */\r\n\telement: string | HTMLElement | null;\r\n\t/** set a specific id on the select. default \"null\" */\r\n\tsetId: string | null;\r\n\t/** set a specific class on the select, default \"null\" */\r\n\tsetClass: string | null;\r\n\t/** width (specify unit), default \"auto\" */\r\n\twidth: string;\r\n\t/** height (specify unit), default \"auto\" */\r\n\theight: string;\r\n\t/** max-height for options list (specify unit), default \"200px\" */\r\n\tmaxHeightOptions: string;\r\n\t/** add extra css style to select, default null */\r\n\tstyle: string | null;\r\n\t/** set placeholder text, default null */\r\n\tplaceholder: string | null;\r\n\t/** allow clear selected options, default true */\r\n\tallowClear: boolean;\r\n\t/** allow search options, default true */\r\n\tallowSearch: boolean;\r\n\t/** autofocus on search field when open select, default true */\r\n\tsearchAutoFocus: boolean;\r\n\t/** set placeholder text on search field, default \"Search\" */\r\n\tsearchPlaceholder: string | null;\r\n\t/** set text for no results found on search, default \"No results found\" */\r\n\tsearchTextNoResults: string | null;\r\n\t/** callback on init select */\r\n\tonInit(): void;\r\n\t/** callback on destroy select */\r\n\tonDestroy(): void;\r\n\t/** callback on init dropdown */\r\n\tonInitDropDown(): void;\r\n\t/** callback on hide dropdown */\r\n\tonDestroyDropDown(): void;\r\n\t/** callback on search dropdown */\r\n\tonSearchDropDown(value: string, options: HTMLOptionElement[]): void;\r\n\t/** callback on add option */\r\n\tonSetValue(value: string): void;\r\n}\r\n\r\n/**\r\n * Class WebcimesSelect\r\n */\r\nexport class WebcimesSelect\r\n{\r\n\t/** Get the dom element of the current select */\r\n\tpublic select: HTMLSelectElement | null;\r\n\t\r\n\t/** Get the dom element of the current webcimesSelect */\r\n\tpublic webcimesSelect: HTMLElement;\r\n\t\r\n\t/** Get the dom element of the current webcimesDropDown */\r\n\tpublic webcimesDropDown: HTMLElement | null = null;\r\n\r\n\t/** Options of the current select */\r\n\tprivate options: Options;\r\n\r\n\t/**\r\n\t * Convert elements entry to an array of HTMLElement\r\n\t */\r\n\tprivate getHtmlElements(element: string | HTMLElement | NodeList | null)\r\n\t{\r\n\t\t// Convert options.element to an array of HTMLElement\r\n\t\tlet htmlElements: HTMLElement[] = [];\r\n\t\tif(element instanceof NodeList)\r\n\t\t{\r\n\t\t\thtmlElements = [...Array.from(element) as HTMLElement[]];\r\n\t\t}\r\n\t\tif(element instanceof HTMLElement)\r\n\t\t{\r\n\t\t\thtmlElements = [...[element]];\r\n\t\t}\r\n\t\tif(typeof element === \"string\")\r\n\t\t{\r\n\t\t\thtmlElements = [...Array.from(document.querySelectorAll(element)) as HTMLElement[]];\r\n\t\t}\r\n\t\treturn htmlElements;\r\n\t}\r\n\r\n\t/**\r\n\t * Convert element entry to an HTMLElement\r\n\t */\r\n\tprivate getHtmlElement(element: string | HTMLElement | null)\r\n\t{\r\n\t\t// Convert options.element to an array of HTMLElement\r\n\t\tlet htmlElement: HTMLElement | null = null;\r\n\t\tif(element instanceof HTMLElement)\r\n\t\t{\r\n\t\t\thtmlElement = element;\r\n\t\t}\r\n\t\tif(typeof element === \"string\")\r\n\t\t{\r\n\t\t\thtmlElement = document.querySelector(element) as HTMLElement | null;\r\n\t\t}\r\n\t\treturn htmlElement;\r\n\t}\r\n\r\n\t/**\r\n\t * Init value (or placeholder) on webcimesSelect, according selected option on select field\r\n\t */\r\n\tprivate initWebcimesSelectValue()\r\n\t{\r\n\t\tif(this.select)\r\n\t\t{\r\n\t\t\t// Get selected options with no empty value\r\n\t\t\tlet selectedOptions = Array.from(this.select.selectedOptions).filter((el) => {\r\n\t\t\t\tif(el.value !== \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Remove old item(s)\r\n\t\t\tthis.webcimesSelect.querySelector(\".items\")!.innerHTML = \"\";\r\n\t\t\t\r\n\t\t\t// If an option is selected, show the value\r\n\t\t\tif(selectedOptions.length)\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.querySelector(\".clear\")?.classList.add(\"active\");\r\n\t\t\t\tselectedOptions.forEach((el) => {\r\n\t\t\t\t\tlet item = document.createElement(\"template\");\r\n\t\t\t\t\titem.innerHTML = \r\n\t\t\t\t\t`<div class=\"item\" data-value=\"${el.value}\">\r\n\t\t\t\t\t\t<div class=\"label\" title=\"${el.innerHTML}\">${el.innerHTML}</div>\r\n\t\t\t\t\t\t${this.select!.multiple?`<div class=\"clear\"><div class=\"cross\"></div></div>`:``}\r\n\t\t\t\t\t</div>\\n`;\r\n\t\t\t\t\tthis.webcimesSelect.querySelector(\".items\")!.appendChild(item.content);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// Else if a placeholder string exist, show the value\r\n\t\t\telse if(this.options.placeholder)\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.querySelector(\".clear\")?.classList.remove(\"active\");\r\n\t\t\t\tlet item = document.createElement(\"template\");\r\n\t\t\t\titem.innerHTML = \r\n\t\t\t\t`<div class=\"item placeholder\" data-value=\"\">\r\n\t\t\t\t\t<div class=\"label\" title=\"${this.options.placeholder}\">${this.options.placeholder}</div>\r\n\t\t\t\t</div>\\n`;\r\n\t\t\t\tthis.webcimesSelect.querySelector(\".items\")!.appendChild(item.content);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set value on webcimesSelect\r\n\t */\r\n\tprivate setWebcimesSelectValue(value: string)\r\n\t{\r\n\t\tthis.select!.value = value;\r\n\t\tthis.initWebcimesSelectValue();\r\n\t\tthis.destroyWebcimesDropDown();\r\n\r\n\t\t// Callback on set option\r\n\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onSetValue\"));\r\n\t\tif(typeof this.options.onSetValue === 'function')\r\n\t\t{\r\n\t\t\tthis.options.onSetValue(value);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Event clear all selected options\r\n\t */\r\n\tprivate eventClearAllSelectedOptionsWebcimesSelect(e: Event)\r\n\t{\r\n\t\tthis.setWebcimesSelectValue(\"\");\r\n\t}\r\n\t\r\n\t/**\r\n\t * Event keyboard controls\r\n\t */\r\n\tprivate eventKeyboardWebCimesSelect(e: KeyboardEvent)\r\n\t{\r\n\t\tif(!this.webcimesDropDown)\r\n\t\t{\r\n\t\t\t// Create webcimesDropDown\r\n\t\t\tif(e.key == \" \" || e.key == \"Enter\" || e.key == \"ArrowUp\" || e.key == \"ArrowDown\")\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.initWebcimesDropDown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Event create webcimesDropDown on click\r\n\t */\r\n\tprivate eventOpenCloseWebcimesDropDown(e: Event)\r\n\t{\r\n\t\t// If webcimesDropDown is null, create webcimesDropDown\r\n\t\tif(!this.webcimesDropDown && !(e.target as HTMLElement).closest(\".clear\"))\r\n\t\t{\r\n\t\t\tthis.initWebcimesDropDown();\r\n\t\t}\r\n\t\t// Close webcimesDropDown\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.destroyWebcimesDropDown();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Init webcimesDropDown\r\n\t */\r\n\tprivate initWebcimesDropDown()\r\n\t{\r\n\t\tthis.webcimesSelect.classList.add(\"open\");\r\n\t\t\t\t\t\r\n\t\t// Append webcimesDropDown after select\r\n\t\tdocument.body.insertAdjacentHTML(\"beforeend\", \r\n\t\t\t`<div class=\"webcimesDropDown\" ${(this.select!.getAttribute(\"dir\")==\"rtl\"?`dir=\"rtl\"`:``)} tabindex=\"-1\">\r\n\t\t\t\t${(this.options.allowSearch?`<div class=\"search\"><input type=\"text\" name=\"search\" autocomplete=\"off\" ${(this.options.searchPlaceholder?`placeholder=\"${this.options.searchPlaceholder}\"`:``)}></div>`:``)}\r\n\t\t\t\t<div class=\"options\" style=\"max-height:${this.options.maxHeightOptions};\" tabindex=\"-1\"></div>\r\n\t\t\t</div>`\r\n\t\t);\r\n\r\n\t\t// Define webcimesDropDown\r\n\t\tthis.webcimesDropDown = document.body.lastElementChild as HTMLElement;\r\n\r\n\t\t// Set options on webcimesDropDown\r\n\t\tlet options = Array.from(this.select!.options).filter((el) => {\r\n\t\t\tif(el.value !== \"\")\r\n\t\t\t{\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setWebcimesDropDownOptions(Array.from(options));\r\n\t\t\r\n\t\t// Set position and width of webcimesDropDown\r\n\t\tthis.setWebcimesDropDownPositionAndWidth();\r\n\r\n\t\t// By default set focus on webcimesDropDown\r\n\t\tthis.webcimesDropDown.focus();\r\n\r\n\t\t// If allowSearch active\r\n\t\tif(this.options.allowSearch)\r\n\t\t{\r\n\t\t\tlet searchEl = (this.webcimesDropDown.querySelector(\"input[name='search']\") as HTMLInputElement);\r\n\r\n\t\t\t// Set focus on search field\r\n\t\t\tif(this.options.searchAutoFocus)\r\n\t\t\t{\r\n\t\t\t\tsearchEl.focus();\r\n\t\t\t}\r\n\r\n\t\t\t// Event - on search, refresh webcimesDropDown options\r\n\t\t\tsearchEl.addEventListener(\"input\", this.eventSearchWebcimesDropDown);\r\n\t\t}\r\n\r\n\t\t// Event - keyboard controls on dropdown\r\n\t\tthis.webcimesDropDown.addEventListener(\"keydown\", this.eventKeyboardWebcimesDropDown);\r\n\r\n\t\t// Event - Mouseover options (highlight)\r\n\t\tthis.webcimesDropDown.querySelectorAll(\".option:not(.disabled)\").forEach((el) => {\r\n\t\t\tel.addEventListener(\"mouseover\", this.eventMouseoverOptionWebcimesDropDown)\r\n\t\t});\r\n\t\t\r\n\t\t// Event - on resize refresh position and width of webcimesDropDown\r\n\t\twindow.addEventListener(\"resize\", this.eventResizeWebcimesDropDown);\r\n\r\n\t\t// Event - destroy webcimesDropDown on click or keypress outside\r\n\t\t['click', 'keydown'].forEach((typeEvent) => {\r\n\t\t\tdocument.addEventListener(typeEvent, this.eventDestroyWebcimesDropDown);\r\n\t\t});\r\n\t\t\r\n\t\t// Callback on show dropdown\r\n\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onInitDropDown\"));\r\n\t\tif(typeof this.options.onInitDropDown === 'function')\r\n\t\t{\r\n\t\t\tthis.options.onInitDropDown();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set webcimesDropDown options\r\n\t */\r\n\tprivate setWebcimesDropDownOptions(options: HTMLOptionElement[])\r\n\t{\r\n\t\t// Remove old event on select option\r\n\t\tthis.webcimesDropDown!.querySelectorAll(\".option:not(.disabled)\").forEach((el: HTMLElement) => {\r\n\t\t\tel.removeEventListener(\"click\", this.eventSelectOptionWebcimesDropDown);\r\n\t\t});\r\n\r\n\t\t// Set options\r\n\t\tlet optionsEl = document.createElement(\"template\");\r\n\t\toptions.forEach((el, index) => {\r\n\t\t\tlet optionEl = document.createElement(\"template\");\r\n\t\t\toptionEl.innerHTML = `<div class=\"option ${index==0?\"highlighted\":\"\"} ${(el.disabled?`disabled`:``)} ${el.classList.toString()}\" data-value=\"${el.value}\">${el.innerHTML}</div>\\n`;\r\n\r\n\t\t\t// If option has optgroup parent\r\n\t\t\tif(el.closest(\"optgroup\"))\r\n\t\t\t{\r\n\t\t\t\tlet label = el.closest(\"optgroup\")!.label;\r\n\r\n\t\t\t\t// Create the optgroup if has not already been created\r\n\t\t\t\tif(!optionsEl.content.querySelector(`.optGroup[data-label='${label}']`))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet optGroupEl = document.createElement(\"template\");\r\n\t\t\t\t\toptGroupEl.innerHTML = \r\n\t\t\t\t\t`<div class=\"optGroup\" data-label=\"${label}\">\r\n\t\t\t\t\t\t<div class=\"label\">${label}</div>\r\n\t\t\t\t\t</div>\\n`;\r\n\t\t\t\t\toptionsEl.content.appendChild(optGroupEl.content);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add option to optgroup\r\n\t\t\t\toptionsEl.content.querySelector(`.optGroup[data-label='${label}']`)?.appendChild(optionEl.content);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t// Add option to options\r\n\t\t\t\toptionsEl.content.appendChild(optionEl.content);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.webcimesDropDown!.querySelector(\".options\")!.replaceChildren(optionsEl.content);\r\n\r\n\t\t// Event - on select option\r\n\t\tthis.webcimesDropDown!.querySelectorAll(\".option:not(.disabled)\").forEach((el: HTMLElement) => {\r\n\t\t\tel.addEventListener(\"click\", this.eventSelectOptionWebcimesDropDown);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Set webcimesDropDown position and width, relative to webcimesSelect\r\n\t */\r\n\tprivate setWebcimesDropDownPositionAndWidth(keepDirection: boolean = false)\r\n\t{\r\n\t\tif(this.webcimesDropDown)\r\n\t\t{\r\n\t\t\tlet webcimesSelectRect = this.webcimesSelect.getBoundingClientRect();\r\n\r\n\t\t\t// If the webcimesDropDown is too high for the bottom of the window, then we direct it to the top (or if keepDirection set to true and directionTop already exist)\r\n\t\t\tif(\r\n\t\t\t\t(keepDirection && this.webcimesSelect.classList.contains(\"directionTop\")) || \r\n\t\t\t\t(!keepDirection && webcimesSelectRect.bottom + this.webcimesDropDown.getBoundingClientRect().height > window.innerHeight)\r\n\t\t\t)\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.classList.remove(\"directionBottom\");\r\n\t\t\t\tthis.webcimesSelect.classList.add(\"directionTop\");\r\n\t\t\t\tthis.webcimesDropDown.classList.remove(\"directionBottom\");\r\n\t\t\t\tthis.webcimesDropDown.classList.add(\"directionTop\");\r\n\t\t\t\tthis.webcimesDropDown.style.top = (webcimesSelectRect.top - this.webcimesDropDown.getBoundingClientRect().height + window.scrollY)+\"px\";\r\n\t\t\t}\r\n\t\t\t// Else direct it to the bottom\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.classList.remove(\"directionTop\");\r\n\t\t\t\tthis.webcimesSelect.classList.add(\"directionBottom\");\r\n\t\t\t\tthis.webcimesDropDown.classList.remove(\"directionTop\");\r\n\t\t\t\tthis.webcimesDropDown.classList.add(\"directionBottom\");\r\n\t\t\t\tthis.webcimesDropDown.style.top = (webcimesSelectRect.bottom + window.scrollY)+\"px\";\r\n\t\t\t}\r\n\r\n\t\t\t// Set webcimesDropDown left position\r\n\t\t\tthis.webcimesDropDown.style.left = (webcimesSelectRect.left + window.scrollX)+\"px\";\r\n\r\n\t\t\t// Set webcimesDropDown width\r\n\t\t\tthis.webcimesDropDown.style.width = webcimesSelectRect.width+\"px\";\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set highlight option\r\n\t */\r\n\tprivate setWebcimesDropDownHighlightOption(index: number)\r\n\t{\r\n\t\tlet highlightedOption = this.webcimesDropDown!.querySelector(\".option.highlighted\");\r\n\t\tlet optionsEl = this.webcimesDropDown!.querySelectorAll(`.option:not(.disabled)`);\r\n\t\thighlightedOption?.classList.remove(\"highlighted\");\r\n\t\thighlightedOption = optionsEl[index];\r\n\t\thighlightedOption.classList.add(\"highlighted\");\r\n\t\thighlightedOption.scrollIntoView({behavior: \"smooth\", block: \"nearest\"});\r\n\t}\r\n\r\n\t/**\r\n\t * Destroy webcimesDropDown\r\n\t */\r\n\tprivate destroyWebcimesDropDown()\r\n\t{\r\n\t\tif(this.webcimesDropDown)\r\n\t\t{\r\n\t\t\t// Destroy webcimesDropDown\r\n\t\t\tthis.webcimesSelect.classList.remove(\"open\");\r\n\t\t\t(this.webcimesDropDown.querySelector(\"input[name='search']\") as HTMLElement).removeEventListener(\"input\", this.eventSearchWebcimesDropDown);\r\n\t\t\tthis.webcimesDropDown.removeEventListener(\"keydown\", this.eventKeyboardWebcimesDropDown);\r\n\t\t\twindow.removeEventListener(\"resize\", this.eventResizeWebcimesDropDown);\r\n\t\t\t['click', 'keydown'].forEach((typeEvent) => {\r\n\t\t\t\tdocument.removeEventListener(typeEvent, this.eventDestroyWebcimesDropDown);\r\n\t\t\t});\r\n\t\t\tthis.webcimesDropDown.querySelectorAll(\".option:not(.disabled)\").forEach((el: HTMLElement) => {\r\n\t\t\t\tel.removeEventListener(\"click\", this.eventSelectOptionWebcimesDropDown);\r\n\t\t\t});\r\n\t\t\tthis.webcimesDropDown.remove();\r\n\t\t\tthis.webcimesDropDown = null;\r\n\r\n\t\t\t// Set focus to webcimesSelect after destroy webcimesDropDown (only if no other webcimesDropDown is open)\r\n\t\t\tif(!document.querySelector(\".webcimesDropDown\"))\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.focus();\r\n\t\t\t}\r\n\r\n\t\t\t// Callback on destroy dropdown\r\n\t\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onDestroyDropDown\"));\r\n\t\t\tif(typeof this.options.onDestroyDropDown === 'function')\r\n\t\t\t{\r\n\t\t\t\tthis.options.onDestroyDropDown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Event search webcimesDropDown options\r\n\t */\r\n\tprivate eventSearchWebcimesDropDown(e: Event)\r\n\t{\r\n\t\t// Search options\r\n\t\tlet regexSearch = new RegExp((e.target as HTMLInputElement).value, \"i\");\r\n\t\tlet options = Array.from(this.select!.options).filter((el) => {\r\n\t\t\tif(el.value !== \"\")\r\n\t\t\t{\r\n\t\t\t\tif(regexSearch.test(el.innerHTML) || regexSearch.test(el.value))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// If no option match the search, and searchTextNoResults not null, then show no results\r\n\t\tif(options.length == 0 && this.options.searchTextNoResults)\r\n\t\t{\r\n\t\t\tlet optionEl = document.createElement(\"option\");\r\n\t\t\toptionEl.classList.add(\"noResults\");\r\n\t\t\toptionEl.innerHTML = this.options.searchTextNoResults;\r\n\t\t\toptions.push(optionEl);\r\n\t\t}\r\n\r\n\t\t// Set options on webcimesDropDown\r\n\t\tthis.setWebcimesDropDownOptions(options);\r\n\t\t\r\n\t\t// Set position and width of webcimesDropDown\r\n\t\tthis.setWebcimesDropDownPositionAndWidth(true);\r\n\r\n\t\t// Callback on search dropdown\r\n\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onSearchDropDown\"));\r\n\t\tif(typeof this.options.onSearchDropDown === 'function')\r\n\t\t{\r\n\t\t\tthis.options.onSearchDropDown((e.target as HTMLInputElement).value, options);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Event keyboard webcimesDropDown \r\n\t */\r\n\tprivate eventKeyboardWebcimesDropDown(e: KeyboardEvent)\r\n\t{\r\n\t\t// If KeyboardEvent not comming from webcimesSelect\r\n\t\tif(e.target != this.webcimesSelect)\r\n\t\t{\r\n\t\t\tlet highlightedOption = this.webcimesDropDown!.querySelector(\".option.highlighted\");\r\n\t\t\tif(highlightedOption)\r\n\t\t\t{\r\n\t\t\t\tif(e.key == \"ArrowUp\" || e.key == \"ArrowDown\")\r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tlet optionsEl = this.webcimesDropDown!.querySelectorAll(`.option:not(.disabled)`);\r\n\t\t\t\t\tlet highlightedIndex = Array.from(optionsEl).indexOf(highlightedOption);\r\n\t\t\t\t\tthis.setWebcimesDropDownHighlightOption((e.key == \"ArrowUp\" ? (highlightedIndex-1 >= 0 ? highlightedIndex-1 : 0) : (highlightedIndex+1 <= optionsEl.length-1 ? highlightedIndex+1 : optionsEl.length-1)));\r\n\t\t\t\t}\r\n\t\t\t\tif(e.key == \"Enter\")\r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\thighlightedOption.classList.remove(\"highlighted\");\r\n\t\t\t\t\tthis.setWebcimesSelectValue(highlightedOption.getAttribute(\"data-value\") as string);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(e.key == \"Escape\")\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.destroyWebcimesDropDown();\r\n\t\t\t}\r\n\t\t\tif(e.key == \"Tab\")\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.destroyWebcimesDropDown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Event mouseover option webcimesDropDown \r\n\t */\r\n\tprivate eventMouseoverOptionWebcimesDropDown(e: MouseEvent)\r\n\t{\r\n\t\tlet optionsEl = this.webcimesDropDown!.querySelectorAll(`.option:not(.disabled)`);\r\n\t\tthis.setWebcimesDropDownHighlightOption(Array.from(optionsEl).indexOf(e.target as HTMLElement));\r\n\t}\r\n\r\n\t/**\r\n\t * Event resize\r\n\t */\r\n\tprivate eventResizeWebcimesDropDown(e: Event)\r\n\t{\r\n\t\tthis.setWebcimesDropDownPositionAndWidth();\r\n\t}\r\n\r\n\t/**\r\n\t * Event on select option\r\n\t */\r\n\tprivate eventSelectOptionWebcimesDropDown(e: Event)\r\n\t{\r\n\t\tthis.setWebcimesSelectValue((e.target as HTMLElement).getAttribute(\"data-value\") as string);\r\n\t}\r\n\r\n\t/**\r\n\t * Event destroy webcimesDropDown on click or keypress outside\r\n\t */\r\n\tprivate eventDestroyWebcimesDropDown(e: Event)\r\n\t{\r\n\t\tif((e.target as HTMLElement).closest(\".webcimesSelect\") != this.webcimesSelect && (e.target as HTMLElement).closest(\".webcimesDropDown\") != this.webcimesDropDown)\r\n\t\t{\r\n\t\t\tthis.destroyWebcimesDropDown();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create select\r\n\t */\r\n\tconstructor(options: Options)\r\n\t{\r\n\t\t// Defaults\r\n\t\tconst defaults: Options = {\r\n\t\t\telement: null,\r\n\t\t\tsetId: null,\r\n\t\t\tsetClass: null,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxHeightOptions: '200px',\r\n\t\t\tstyle: null,\r\n\t\t\tplaceholder: null,\r\n\t\t\tallowClear: true,\r\n\t\t\tallowSearch: true,\r\n\t\t\tsearchAutoFocus: true,\r\n\t\t\tsearchPlaceholder: \"Search\",\r\n\t\t\tsearchTextNoResults: \"No results found\",\r\n\t\t\tonInit: () => {},\r\n\t\t\tonDestroy(){},\r\n\t\t\tonInitDropDown: () => {},\r\n\t\t\tonDestroyDropDown: () => {},\r\n\t\t\tonSearchDropDown: () => {},\r\n\t\t\tonSetValue: () => {},\r\n\t\t}\r\n\t\tthis.options = {...defaults, ...options};\r\n\r\n\t\t// Bind \"this\" to all events\r\n\t\tthis.eventClearAllSelectedOptionsWebcimesSelect = this.eventClearAllSelectedOptionsWebcimesSelect.bind(this);\r\n\t\tthis.eventKeyboardWebCimesSelect = this.eventKeyboardWebCimesSelect.bind(this);\r\n\t\tthis.eventOpenCloseWebcimesDropDown = this.eventOpenCloseWebcimesDropDown.bind(this);\r\n\t\tthis.eventSearchWebcimesDropDown = this.eventSearchWebcimesDropDown.bind(this);\r\n\t\tthis.eventKeyboardWebcimesDropDown = this.eventKeyboardWebcimesDropDown.bind(this);\r\n\t\tthis.eventMouseoverOptionWebcimesDropDown = this.eventMouseoverOptionWebcimesDropDown.bind(this);\r\n\t\tthis.eventResizeWebcimesDropDown = this.eventResizeWebcimesDropDown.bind(this);\r\n\t\tthis.eventSelectOptionWebcimesDropDown = this.eventSelectOptionWebcimesDropDown.bind(this);\r\n\t\tthis.eventDestroyWebcimesDropDown = this.eventDestroyWebcimesDropDown.bind(this);\r\n\t\t\r\n\t\t// Call init method\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialization of the current select\r\n\t */\r\n    private init()\r\n\t{\r\n\t\t// Define select\r\n\t\tthis.select = this.getHtmlElement(this.options.element) as HTMLSelectElement | null;\r\n\t\tif(this.select)\r\n\t\t{\r\n\t\t\t// Hide select\r\n\t\t\tthis.select.style.display = \"none\";\r\n\r\n\t\t\t// Append webcimesSelect after select\r\n\t\t\tthis.select.insertAdjacentHTML(\"afterend\", \r\n\t\t\t\t`<div class=\"webcimesSelect ${(this.select.multiple?`multiple`:``)} ${(this.options.setClass?this.options.setClass:``)}\" ${(this.options.setId?`id=\"${this.options.setId}\"`:``)} ${(this.select.getAttribute(\"dir\")==\"rtl\"?`dir=\"rtl\"`:``)} tabindex=\"0\">\r\n\t\t\t\t\t<div class=\"items\"></div>\r\n\t\t\t\t\t${(this.options.allowClear?`<div class=\"clear\"><div class=\"cross\"></div></div>`:'')}\r\n\t\t\t\t\t<div class=\"arrow\"></div>\r\n\t\t\t\t</div>`\r\n\t\t\t);\r\n\r\n\t\t\t// Define webcimesSelect\r\n\t\t\tthis.webcimesSelect = this.select.nextElementSibling as HTMLElement;\r\n\r\n\t\t\t// Set placeholder\r\n\t\t\tif(!this.options.placeholder)\r\n\t\t\t{\r\n\t\t\t\tif(this.select.querySelector(\"option[value='']\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.options.placeholder = this.select.querySelector(\"option[value='']\")!.innerHTML;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Width of webcimesSelect\r\n\t\t\tif(this.options.width != \"auto\" && this.options.width)\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.style.setProperty(\"width\", this.options.width);\r\n\t\t\t}\r\n\r\n\t\t\t// Height of select\r\n\t\t\tif(this.options.height != \"auto\" && this.options.height)\r\n\t\t\t{\r\n\t\t\t\tthis.webcimesSelect.style.setProperty(\"height\", this.options.height);\r\n\t\t\t}\r\n\r\n\t\t\t// Style\r\n\t\t\tif(this.options.style)\r\n\t\t\t{\r\n\t\t\t\tlet oldStyle = this.webcimesSelect.getAttribute(\"style\");\r\n\t\t\t\tthis.webcimesSelect.setAttribute(\"style\", oldStyle+this.options.style);\r\n\t\t\t}\r\n\r\n\t\t\t// Set webcimesSelect value (or placeholder)\r\n\t\t\tthis.initWebcimesSelectValue();\r\n\r\n\t\t\t// Event - clear all selected options\r\n\t\t\tthis.webcimesSelect.querySelector(\".webcimesSelect > .clear\")?.addEventListener(\"click\", this.eventClearAllSelectedOptionsWebcimesSelect);\r\n\r\n\t\t\t// Event - keyboard controls\r\n\t\t\tthis.webcimesSelect.addEventListener(\"keydown\", this.eventKeyboardWebCimesSelect);\r\n\r\n\t\t\t// Event - create webcimesDropDown on click\r\n\t\t\tthis.webcimesSelect.addEventListener(\"click\", this.eventOpenCloseWebcimesDropDown);\r\n\r\n\t\t\t// Callback on init select (set a timeout of zero, to wait for some dom to load)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onInit\"));\r\n\t\t\t\tif(typeof this.options.onInit === 'function')\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.options.onInit();\r\n\t\t\t\t}\r\n\t\t\t}, 0);\r\n\t\t}\r\n    }\r\n\r\n\t/**\r\n\t * Destroy current select\r\n\t */\r\n\tpublic destroy()\r\n\t{\r\n\t\tthis.webcimesSelect.querySelector(\".webcimesSelect > .clear\")?.removeEventListener(\"click\", this.eventClearAllSelectedOptionsWebcimesSelect);\r\n\t\tthis.webcimesSelect.removeEventListener(\"keydown\", this.eventKeyboardWebCimesSelect);\r\n\t\tthis.webcimesSelect.removeEventListener(\"click\", this.eventOpenCloseWebcimesDropDown);\r\n\r\n\t\t// Callback on destroy select\r\n\t\tthis.webcimesSelect.dispatchEvent(new CustomEvent(\"onDestroy\"));\r\n\t\tif(typeof this.options.onDestroy === 'function')\r\n\t\t{\r\n\t\t\tthis.options.onDestroy();\r\n\t\t}\r\n\t}\r\n}"],"names":["root","factory","exports","module","define","amd","a","i","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","WebcimesSelect","select","webcimesSelect","webcimesDropDown","options","getHtmlElements","element","htmlElements","NodeList","Array","from","HTMLElement","document","querySelectorAll","getHtmlElement","htmlElement","querySelector","initWebcimesSelectValue","this","selectedOptions","filter","el","innerHTML","length","classList","add","forEach","item","createElement","multiple","appendChild","content","placeholder","remove","setWebcimesSelectValue","destroyWebcimesDropDown","dispatchEvent","CustomEvent","onSetValue","eventClearAllSelectedOptionsWebcimesSelect","e","eventKeyboardWebCimesSelect","preventDefault","initWebcimesDropDown","eventOpenCloseWebcimesDropDown","target","closest","body","insertAdjacentHTML","getAttribute","allowSearch","searchPlaceholder","maxHeightOptions","lastElementChild","setWebcimesDropDownOptions","setWebcimesDropDownPositionAndWidth","focus","searchEl","searchAutoFocus","addEventListener","eventSearchWebcimesDropDown","eventKeyboardWebcimesDropDown","eventMouseoverOptionWebcimesDropDown","window","eventResizeWebcimesDropDown","typeEvent","eventDestroyWebcimesDropDown","onInitDropDown","removeEventListener","eventSelectOptionWebcimesDropDown","optionsEl","index","optionEl","disabled","toString","label","optGroupEl","replaceChildren","keepDirection","webcimesSelectRect","getBoundingClientRect","contains","bottom","height","innerHeight","style","top","scrollY","left","scrollX","width","setWebcimesDropDownHighlightOption","highlightedOption","scrollIntoView","behavior","block","onDestroyDropDown","regexSearch","RegExp","test","searchTextNoResults","push","onSearchDropDown","highlightedIndex","indexOf","constructor","defaults","setId","setClass","allowClear","onInit","onDestroy","bind","init","display","nextElementSibling","setProperty","oldStyle","setAttribute","setTimeout","destroy"],"sourceRoot":""}